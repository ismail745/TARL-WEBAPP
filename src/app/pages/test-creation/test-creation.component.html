<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
  <div class="max-w-8xl mx-auto bg-white rounded-2xl shadow-xl border border-blue-100 overflow-hidden">
    <div class="p-8 text-center bg-gradient-to-r from-blue-600 to-indigo-600">
      <h2 class="text-3xl font-bold tracking-wide text-white mb-2">Create New Test</h2>
    </div>
    
    <div class="flex justify-center mb-8 border-b border-gray-200">
      <button (click)="setActiveTab('basic')" 
              class="px-6 py-3 font-medium text-lg transition-all duration-200"
              [ngClass]="{'text-blue-600 border-b-2 border-blue-600': activeTab === 'basic', 'text-gray-500 hover:text-gray-700': activeTab !== 'basic'}">
        Basic Information
      </button>
      <button (click)="setActiveTab('questions')" 
              class="px-6 py-3 font-medium text-lg transition-all duration-200"
              [ngClass]="{'text-blue-600 border-b-2 border-blue-600': activeTab === 'questions', 'text-gray-500 hover:text-gray-700': activeTab !== 'questions'}">
        Question Types
      </button>
    </div>

    <div *ngIf="loading" class="text-center py-4">
      <div class="animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-t-transparent mx-auto"></div>
    </div>

    <div *ngIf="errorMessage" class="mx-8 mt-8 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600">
      {{ errorMessage }}
    </div>

    <div *ngIf="successMessage" class="mx-8 mt-8 p-4 bg-green-50 border border-green-200 rounded-xl text-green-600">
      {{ successMessage }}
    </div>

    <form [formGroup]="testForm" (ngSubmit)="submitTest()" class="p-8 space-y-6">
      
      <div *ngIf="activeTab === 'basic'">
        <div class="grid md:grid-cols-3 gap-6">
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Title (Arabic)</label>
            <input type="text" formControlName="titleAr" 
                   class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" />
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Title (English)</label>
            <input type="text" formControlName="titleEn"
                   class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" />
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Title (French)</label>
            <input type="text" formControlName="titleFr"
                   class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" />
          </div>
        </div>

        <div class="grid md:grid-cols-3 gap-6">
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Description (Arabic)</label>
            <textarea rows="3" formControlName="descriptionAr"
                      class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-none"></textarea>
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Description (English)</label>
            <textarea rows="3" formControlName="descriptionEn"
                      class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-none"></textarea>
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Description (French)</label>
            <textarea rows="3" formControlName="descriptionFr"
                      class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-none"></textarea>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Grade</label>
            <select formControlName="classroomId"
                    class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition appearance-none">
              <option value="" disabled>Select Grade</option>
              <option *ngFor="let grade of schoolGrades" [value]="grade.classId">{{ grade.className }}</option>
            </select>
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">End Date</label>
            <input type="date" formControlName="endDate"
                   class="w-full px-4 py-2 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" />
          </div>
        </div>

        <div class="flex items-center mt-6">
          <input type="checkbox" formControlName="isActive" id="isActive" 
                 class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" />
          <label for="isActive" class="ml-2 text-sm font-medium text-gray-700">Test Active</label>
        </div>
      </div>

      <div *ngIf="activeTab === 'questions'" class="space-y-6">
        <div class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-xl font-bold text-gray-800 mb-4">Select Question Types</h3>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
            <div *ngFor="let type of questionTypes" class="flex items-center space-x-2">
              <input type="checkbox" [value]="type.id" (change)="onCheckboxChange($event)" 
                     [checked]="selectedGameTypes.includes(type.id)" 
                     class="w-5 h-5 rounded text-blue-600 focus:ring-blue-500" />
              <label class="text-sm font-medium text-gray-700">{{ type.name }}</label>
            </div>
          </div>
        </div>

        <div *ngIf="selectedGameTypes.includes('findcomposition')" formGroupName="findcomposition" class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-lg font-bold text-gray-800 mb-4">Find Composition Settings</h3>
          
          <div class="flex border-b border-gray-200 mb-4">
            <ng-container *ngFor="let level of difficultyLevels">
              <button type="button" (click)="setActiveDifficultyLevel('findcomposition', level.id)" 
                      class="px-4 py-2 font-medium transition-all duration-200"
                      [ngClass]="{'text-blue-600 border-b-2 border-blue-600': getActiveDifficultyLevel('findcomposition') === level.id, 
                                  'text-gray-500 hover:text-gray-700': getActiveDifficultyLevel('findcomposition') !== level.id}"
                      style="color: #fcefcf;">
                {{ level.name }}
              </button>
            </ng-container>
          </div>
          
          <div formGroupName="easy" [style.display]="getActiveDifficultyLevel('findcomposition') === 'easy' ? 'block' : 'none'">
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Solutions</label>
                <input type="text" (input)="updateNumberArray($event, 'findcomposition.easy')" placeholder="3,4,5" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
          
          <div formGroupName="medium" [style.display]="getActiveDifficultyLevel('findcomposition') === 'medium' ? 'block' : 'none'">
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Solutions</label>
                <input type="text" (input)="updateNumberArray($event, 'findcomposition.medium')" placeholder="3,4,5" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
          
          <div formGroupName="hard" [style.display]="getActiveDifficultyLevel('findcomposition') === 'hard' ? 'block' : 'none'">
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Solutions</label>
                <input type="text" (input)="updateNumberArray($event, 'findcomposition.hard')" placeholder="3,4,5" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="selectedGameTypes.includes('WritetheFollowingNumberinLetters')" formGroupName="WritetheFollowingNumberinLetters" class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-lg font-bold text-gray-800 mb-4">Write Number in Letters Settings</h3>
          
          <div class="flex border-b border-gray-200 mb-4">
            <ng-container *ngFor="let level of difficultyLevels">
              <button type="button" (click)="setActiveDifficultyLevel('WritetheFollowingNumberinLetters', level.id)" 
                      class="px-4 py-2 font-medium transition-all duration-200"
                      [ngClass]="{'text-blue-600 border-b-2 border-blue-600': getActiveDifficultyLevel('WritetheFollowingNumberinLetters') === level.id, 
                                  'text-gray-500 hover:text-gray-700': getActiveDifficultyLevel('WritetheFollowingNumberinLetters') !== level.id}"
                      style="color: #fcefcf;">
                {{ level.name }}
              </button>
            </ng-container>
          </div>
          
          <div formGroupName="easy" [style.display]="getActiveDifficultyLevel('WritetheFollowingNumberinLetters') === 'easy' ? 'block' : 'none'">
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Solutions</label>
                <input type="text" (input)="updateStringArray($event, 'WritetheFollowingNumberinLetters.easy')" placeholder="three, four" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
          
          <div formGroupName="medium" [style.display]="getActiveDifficultyLevel('WritetheFollowingNumberinLetters') === 'medium' ? 'block' : 'none'">
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Solutions</label>
                <input type="text" (input)="updateStringArray($event, 'WritetheFollowingNumberinLetters.medium')" placeholder="three, four" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
          
          <div formGroupName="hard" [style.display]="getActiveDifficultyLevel('WritetheFollowingNumberinLetters') === 'hard' ? 'block' : 'none'">
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Solutions</label>
                <input type="text" (input)="updateStringArray($event, 'WritetheFollowingNumberinLetters.hard')" placeholder="three, four" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="selectedGameTypes.includes('IdentifthUnitsTensHundredsandThousands')" formGroupName="IdentifthUnitsTensHundredsandThousands" class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-lg font-bold text-gray-800 mb-4">Identify Place Value Settings</h3>
          
          <div class="flex border-b border-gray-200 mb-4">
            <ng-container *ngFor="let level of difficultyLevels">
              <button type="button" (click)="setActiveDifficultyLevel('IdentifthUnitsTensHundredsandThousands', level.id)" 
                      class="px-4 py-2 font-medium transition-all duration-200"
                      [ngClass]="{'text-blue-600 border-b-2 border-blue-600': getActiveDifficultyLevel('IdentifthUnitsTensHundredsandThousands') === level.id, 
                                  'text-gray-500 hover:text-gray-700': getActiveDifficultyLevel('IdentifthUnitsTensHundredsandThousands') !== level.id}"
                      style="color: #fcefcf;">
                {{ level.name }}
              </button>
            </ng-container>
          </div>
          
          <div formGroupName="easy" [style.display]="getActiveDifficultyLevel('IdentifthUnitsTensHundredsandThousands') === 'easy' ? 'block' : 'none'">
            <div class="grid md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
            <div formGroupName="solution" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Units</label>
                <input type="number" formControlName="units" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Tens</label>
                <input type="number" formControlName="tens" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Hundreds</label>
                <input type="number" formControlName="hundreds" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Thousands</label>
                <input type="number" formControlName="thousands" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
          
          <div formGroupName="medium" [style.display]="getActiveDifficultyLevel('IdentifthUnitsTensHundredsandThousands') === 'medium' ? 'block' : 'none'">
            <div class="grid md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
            <div formGroupName="solution" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Units</label>
                <input type="number" formControlName="units" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Tens</label>
                <input type="number" formControlName="tens" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Hundreds</label>
                <input type="number" formControlName="hundreds" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Thousands</label>
                <input type="number" formControlName="thousands" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
          
          <div formGroupName="hard" [style.display]="getActiveDifficultyLevel('IdentifthUnitsTensHundredsandThousands') === 'hard' ? 'block' : 'none'">
            <div class="grid md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
                <input type="number" formControlName="time" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts</label>
                <input type="number" formControlName="attemptsAllowed" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Number</label>
                <input type="number" formControlName="number" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
            <div formGroupName="solution" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Units</label>
                <input type="number" formControlName="units" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Tens</label>
                <input type="number" formControlName="tens" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Hundreds</label>
                <input type="number" formControlName="hundreds" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Thousands</label>
                <input type="number" formControlName="thousands" class="input-field"
                       style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              </div>
            </div>
          </div>
        </div>
        
        <div *ngIf="selectedGameTypes.includes('MultipleChoice')" formGroupName="MultipleChoice" class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-lg font-bold text-gray-800 mb-4">Multiple Choice Question</h3>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Question</label>
            <input type="text" formControlName="question" placeholder="Enter your question" class="w-full px-4 py-3 rounded-md border"
                   style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
          </div>
          <div class="mb-4">
            <div class="flex justify-between items-center mb-2">
              <label class="block text-sm font-medium" style="color: #fcefcf;">Options</label>
              <button type="button" (click)="addMultipleChoiceOption()" class="px-2 py-1 rounded text-xs font-medium"
                      style="background-color: #4682b4; color: white;">
                + Add Option
              </button>
            </div>
            <div *ngFor="let option of multipleChoiceOptionsArray; let i = index" class="flex items-center mb-2">
              <input type="radio" [value]="i" formControlName="correctOptionIndex" class="mr-2" />
              <input type="text" [ngModel]="option.value" (ngModelChange)="option.setValue($event)" placeholder="Option {{i+1}}" class="flex-grow px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
              <button *ngIf="multipleChoiceOptions.length > 2" type="button" (click)="removeMultipleChoiceOption(i)" class="ml-2 px-2 py-1 rounded text-xs font-medium"
                      style="background-color: #e57373; color: white;">
                ✕
              </button>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
              <input type="number" formControlName="time" class="w-full px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts Allowed</label>
              <input type="number" formControlName="attemptsAllowed" class="w-full px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
            </div>
          </div>
        </div>
        
        <div *ngIf="selectedGameTypes.includes('TrueFalse')" formGroupName="TrueFalse" class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-lg font-bold mb-4" style="color: #fcefcf;">True/False Question</h3>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Question</label>
            <input type="text" formControlName="question" placeholder="Enter your question" class="w-full px-4 py-3 rounded-md border"
                   style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Correct Answer</label>
            <div class="flex space-x-4">
              <label class="flex items-center space-x-2" style="color: #fcefcf;">
                <input type="radio" [value]="true" formControlName="isTrue" />
                <span>True</span>
              </label>
              <label class="flex items-center space-x-2" style="color: #fcefcf;">
                <input type="radio" [value]="false" formControlName="isTrue" />
                <span>False</span>
              </label>
            </div>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
              <input type="number" formControlName="time" class="w-full px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts Allowed</label>
              <input type="number" formControlName="attemptsAllowed" class="w-full px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
            </div>
          </div>
        </div>
        
        <div *ngIf="selectedGameTypes.includes('ShortAnswer')" formGroupName="ShortAnswer" class="bg-white rounded-xl shadow-md border border-blue-100 p-6">
          <h3 class="text-lg font-bold mb-4" style="color: #fcefcf;">Short Answer Question</h3>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Question</label>
            <input type="text" formControlName="question" placeholder="Enter your question" class="w-full px-4 py-3 rounded-md border"
                   style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Correct Answer</label>
            <input type="text" formControlName="answer" placeholder="Enter the correct answer" class="w-full px-4 py-3 rounded-md border"
                   style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
          </div>
          <div class="mb-4">
            <label class="flex items-center space-x-2">
              <input type="checkbox" formControlName="caseSensitive" />
              <span class="text-sm font-medium" style="color: #fcefcf;">Case Sensitive</span>
            </label>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Time (seconds)</label>
              <input type="number" formControlName="time" class="w-full px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2" style="color: #fcefcf;">Attempts Allowed</label>
              <input type="number" formControlName="attemptsAllowed" class="w-full px-4 py-2 rounded-md border"
                     style="background-color: #ffffff; color: #2f3e46; border-color: #708090;" />
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex justify-end gap-4">
        <button *ngIf="activeTab === 'basic'" type="button" (click)="setActiveTab('questions')"
                class="px-6 py-2.5 rounded-xl text-white font-semibold shadow-sm transition-all duration-200 flex items-center gap-2 hover:shadow-md hover:scale-105 bg-gradient-to-r from-blue-600 to-indigo-600">
          Next: Question Types
        </button>
        <button *ngIf="activeTab === 'questions'" type="button" (click)="setActiveTab('basic')"
                class="px-6 py-2.5 rounded-xl text-gray-700 font-semibold shadow-sm transition-all duration-200 flex items-center gap-2 hover:shadow-md hover:scale-105 bg-gray-100 border border-gray-200">
          Back
        </button>
        <button *ngIf="activeTab === 'questions'" type="submit"
                class="px-6 py-2.5 rounded-xl text-white font-semibold shadow-sm transition-all duration-200 flex items-center gap-2 hover:shadow-md hover:scale-105 bg-gradient-to-r from-green-600 to-emerald-600">
          Save Test
        </button>
      </div>
    </form>
  </div>
</div>
